<style>
  label {
    display: block;
  }
  span {
    margin: 30px 0;
  }
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  #map-canvas, #map_canvas {
    height: 400px;
    width: 300px;
  }
  @media print {
    html, body {
      height: auto;
    }
  
    #map-canvas, #map_canvas {
      height: 650px;
    }
  }
  #panel {
    position: absolute;
    top: 5px;
    left: 50%;
    margin-left: -180px;
    z-index: 5;
    background-color: #fff;
    padding: 5px;
    border: 1px solid #999;
  }

</style>

<h1>Choose a delivery location or use your current location</h1>

<div id="map-canvas"></div>

<p>OR</p>

<div id="address">
  <label for="street">Street and/or Apt #</label><input id="street" type="text" />
  <label for="zip">Zipcode</label><input id="zip" type="text" />
</div>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
<script type="text/javascript">
  var map;
  
  function initialize() {
    var mapOptions = {
      zoom: 12,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    map = new google.maps.Map(document.getElementById('map-canvas'),
        mapOptions);
  
    // Try HTML5 geolocation
    if(navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var pos = new google.maps.LatLng(position.coords.latitude,
                                         position.coords.longitude);
  
        var infowindow = new google.maps.InfoWindow({
          map: map,
          position: pos,
          content: 'Location found'
        });
  
        map.setCenter(pos);
      }, function() {
        handleNoGeolocation(true);
      });
    } else {
      // Browser doesn't support Geolocation
      handleNoGeolocation(false);
    }
  }
  
  function handleNoGeolocation(errorFlag) {
    if (errorFlag) {
      var content = 'Error: The Geolocation service failed.';
    } else {
      var content = 'Error: Your browser doesn\'t support geolocation.';
    }
  
    var options = {
      map: map,
      position: new google.maps.LatLng(60, 105),
      content: content
    };
  
    var infowindow = new google.maps.InfoWindow(options);
    map.setCenter(options.position);
  }
  
  google.maps.event.addDomListener(window, 'load', initialize);
</script>